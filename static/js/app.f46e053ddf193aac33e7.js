webpackJsonp([1],{"7zck":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),r=a("Dd8w"),i=a.n(r),n=a("mtWM"),o=a.n(n).a.create({baseURL:"https://api.github.com/",timeout:25e3}),c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("nav",{staticClass:"navbar elevation-3"},[t("div",{staticClass:"content"},[t("div",{staticClass:"left"},[this._v("\n      GitHub Repositories in\n      "),t("div",{staticClass:"languages"},[this._t("language")],2)]),this._v(" "),t("div",{staticClass:"search"},[this._t("search")],2)])])},staticRenderFns:[]};var l=a("VU/8")({name:"nav-bar"},c,!1,function(e){a("i0lw")},"data-v-099d2780",null).exports,u={name:"list-item",props:{header:Boolean,sort:String,url:String,image:String,name:String,description:String,stars:[Number,String],forks:[Number,String]}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"listitem",attrs:{href:e.url,target:"_blank",rel:"noopener noreferrer"}},[a("div",{staticClass:"image",style:e.header?null:{backgroundImage:"url("+e.image+")"}}),e._v(" "),a("div",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" "),a("div",{staticClass:"desc"},[e._v(e._s(e.description))]),e._v(" "),a("div",{class:{star:!0,"sort-down":e.header&&"stars"===e.sort},on:{click:function(t){e.$emit("sortby","stars")}}},[e._v(e._s(e.stars))]),e._v(" "),a("div",{class:{fork:!0,"sort-down":e.header&&"forks"===e.sort},on:{click:function(t){e.$emit("sortby","forks")}}},[e._v(e._s(e.forks))])])},staticRenderFns:[]};var h={name:"App",components:{NavBar:l,ListItem:a("VU/8")(u,g,!1,function(e){a("XV4y")},"data-v-013baa88",null).exports},data:function(){return{cache:{},items:[],language:"JavaScript",languages:["JavaScript","Python","Java","PHP","C++","Go","TypeScript","C#","C","Ruby","Shell","Swift","Objective-C","Scala","CSS","Vue"],loading:!0,page:1,pages:0,rowsPerPage:20,search:"",sort:"stars"}},computed:{query:function(){return"q="+this.search+"+language:"+encodeURIComponent(this.language)+"&sort="+this.sort+"&order=desc"}},methods:{getItems:function(){var e=this;this.$router.push({path:"/"+encodeURIComponent(this.language)+"/"+this.page+"/",query:i()({},this.search&&{search:this.search},"stars"!==this.sort&&{sort:this.sort})}),this.cache[this.query]=this.cache[this.query]||[];for(var t=!0,a=0;a<this.rowsPerPage;a++)if(!this.cache[this.query][a+(this.page-1)*this.rowsPerPage]){t=!1;break}if(t)this.items=this.cache[this.query].slice((this.page-1)*this.rowsPerPage,this.page*this.rowsPerPage);else{this.loading=!0,o.get("search/repositories?"+this.query+"&per_page="+5*this.rowsPerPage+"&page="+Math.ceil(this.page/5)).then(function(t){for(var a=0;a<t.data.items.length;a++){var s=(e.page-1-(e.page-1)%5)*e.rowsPerPage;e.cache[e.query][s+a]=t.data.items[a]}e.items=e.cache[e.query].slice((e.page-1)*e.rowsPerPage,e.page*e.rowsPerPage),e.pages=Math.ceil(Math.min(1e3,t.data.total_count)/e.rowsPerPage),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1})}}},watch:{page:function(e){this.getItems()},language:function(e){this.getItems()},search:function(e){this.getItems()},sort:function(e){this.getItems()},$route:function(e,t){this.page=e.params.page?parseInt(e.params.page):1,this.language=e.params.language?e.params.language:this.languages[0],this.search=e.query.search?e.query.search:"",this.sort=e.query.sort?e.query.sort:"stars"}},created:function(){this.$route.params.page&&(this.page=parseInt(this.$route.params.page)),this.$route.params.language&&(this.language=this.$route.params.language),this.$route.query.search&&(this.search=this.$route.query.search),this.$route.query.sort&&(this.sort=this.$route.query.sort),this.cache[this.query]=this.cache[this.query]||[],this.getItems()}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("nav-bar",{attrs:{language:e.language,languages:e.languages}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.language,expression:"language"}],attrs:{slot:"language"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.language=t.target.multiple?a:a[0]}},slot:"language"},e._l(e.languages,function(t){return a("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),e._v(" "),a("template",{slot:"search"},[a("input",{attrs:{type:"text",id:"search",placeholder:"search"},domProps:{value:e.search},on:{change:function(t){e.search=t.target.value}}}),e._v(" "),a("label",{class:e.search?"clear":"",attrs:{for:"search"},on:{click:function(t){e.search=""}}})])],2),e._v(" "),e.loading?a("div",{staticClass:"centered"},[a("v-progress-circular",{attrs:{indeterminate:"",size:"60",color:"blue"}})],1):e._e(),e._v(" "),e.items.length?a("v-list",{class:{list:!0,loading:e.loading,"elevation-3":!0},attrs:{"two-line":""}},[a("list-item",{attrs:{header:"",sort:e.sort,name:"Repository",description:"Description",stars:"Stars",forks:"Forks"},on:{sortby:function(t){e.sort=t}}}),e._v(" "),e._l(e.items,function(e){return a("list-item",{key:e.id,attrs:{url:e.html_url,image:e.owner.avatar_url,name:e.name,description:e.description,stars:e.stargazers_count,forks:e.forks_count}})})],2):e._e(),e._v(" "),e.pages?a("div",{staticClass:"text-xs-center pt-3 pb-4"},[a("v-pagination",{attrs:{length:e.pages,"total-visible":11},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1):e._e()],1)},staticRenderFns:[]};var v=a("VU/8")(h,p,!1,function(e){a("g8vh")},"data-v-92df937e",null).exports,m=a("/ocq");s.a.use(m.a);var d=new m.a({base:"/github-repos-browser",mode:"history",routes:[{path:"/"},{path:"/:language/:page(\\d+)?"}]}),f=a("3EgV"),_=a.n(f);a("7zck");s.a.use(_.a,{theme:{primary:"#24292e"}}),s.a.config.productionTip=!1,new s.a({el:"#app",router:d,components:{App:v},template:"<App/>"})},XV4y:function(e,t){},g8vh:function(e,t){},i0lw:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f46e053ddf193aac33e7.js.map